## 操作场景
当部署组关联了日志配置项后，TSF 会对采集的日志数据实时建立索引。用户可以在 TSF 控制台中，通过日志检索功能使用关键词检索出关键日志信息。

## 操作步骤

1. 登录 [TSF 控制台](https://console.cloud.tencent.com/tsf/index)，单击左侧导航栏【日志服务】>【[日志检索](https://console.cloud.tencent.com/tsf/log-search)】。
2. 选择搜索的时间范围。
3. 选择日志数据源
   - 日志配置项：日志配置项决定了日志格式、日志采集路径等规则；
   - 部署组：从关联了日志配置项的部署组中进行选择；
   - 实例：当选择单个部署组时，可以将数据源范围精细化到部署组内某个实例。
4. 选择排序方式，默认是【按关键词匹配度排序】。
5. 关键词搜索包含三种查询方式，分别为基本查询、Lucene语法查询及正则表达式。用户可根据需求自行进行选择。在选定其一查询方式后，输入关键词。单击【查询】。
![](https://main.qcloudimg.com/raw/1cc7093d70f00b8acab3cf3ed5d36c85.png)

1.	基本查询：
输入待查询的关键词或短语，按下回车键，输入下一个待查询的关键词或短语，按下回车，直至全部输入完成。点击【查询】， 日志列表将展示出所有符合条件的日志。
本查询方式默认将“任意空白字符,.[]{}()?:=”认定为分词符。含有上述符号的日志被按照分隔符所在位置拆分。org.apache.kafka.clients.NetworkClient，将被分词为org apache kafka clients NetworkClient
•	支持单词的搜索
例：输入available，输出日志为所有含有单词available的日志
•	支持短语的搜索
例：输入Broker may not be available，输出日志为所有含有短语Broker may not be available的日志。

2）Lucene语法查询：
  
支持检索类型		|规则			|示例 
--------------	|--------		|------ 
全文检索-单词检索	|输入单个词语进行搜索，精准输出所有包含该词语的日志|startup
全文检索-短语检索	|输入双引号（“”）囊括短语进行搜索，精准输出所有包含该短语的日志|startup
布尔表达式搜索		|支持A AND B搜索，输出所有同时包含A和B的日志；支持 A OR B搜索，输出所有含有A或所有含有B或同时含有A和B的日志；支持A NOT B搜索，输出所有含有A同时不含有B的日志；支持+A，输出所有包含Term的日志；支持-A，输出的日志不包含A
通配符搜索			|支持? 搜索，？可匹配单个字符； 支持*搜索，*可匹配0到多个字符||
模糊搜索			|支持 A~Beta（数值） 启动模糊搜索，输出包含所有距离A相似度为Beta的单词的日志。该模糊检索查询出拼写错误的单词。||
优先级搜索			|支持A^beta(数值) B 搜索，使A的搜索优先级相较于B提高beta||
转义特殊字符		|以下字符当作值搜索时需要用\转义： +- = &&   |   > < ! ( ) { } [] ^ " ~ * ? : \ /。||(1+1)\=2用来查询(1+1)=2||


3）正则表达式查询：
支持使用正则表达式对日志进行搜索。
示例：搜索形如以 p 开头 r 结尾的关键词，我们可以直接在搜索框内输入 
/p.*r/
进行匹配

6. 单击【查看日志上下文】，查看该条日志的上下文信息。
![](https://main.qcloudimg.com/raw/fbfa56ecc6f411564c96fac0a64ce213.png)

**说明：**
- 时间范围选择组件的结束时间为进入日志检索页面的时间。

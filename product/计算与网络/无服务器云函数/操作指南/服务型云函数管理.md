### 服务型云函数概述

HTTP Service 服务型云函数：

1. 支持通用框架的无缝迁移，已有代码直接迁移Serverless架构。

2. 具备高性能、无运行时长限制的特性，让您保留原有的开发习惯。

3. 集成域名，默认提供了三级子域名，省去域名注册和备案等复杂流程，自动配置解析，天然集成SSL证书。
4. 支持Websocket，可以轻松搭建聊天室、小游戏等业务。
5. 可以通过控制台或者CLI（即将支持）快速上传部署代码。

### 优势

1. 运维方便：全托管式的无服务器应用平台，基于负载情况自动扩缩容。
2. 接入轻松：支持多种语言（目前支持Nodejs，后续会支持其他语言），Web服务无缝上云。
3. 性能稳定：无冷启动，性能稳定可预期，轻松支撑高iops应用。
4. 低成本：按运行时长和资源消耗付费（当前HTTP Service处于内测阶段，对用户免费，您可以放心使用）。

### 使用场景

1. App/Web/公众号/小程序/API服务后台。
2. BFF（Backend for Frontend）中台。
3. 微服务。

### 使用限制

| 内容             | 配额限制                                                     | 是否可联系我们调整 |
| ---------------- | ------------------------------------------------------------ | ------------------ |
| HTTP连接超时时间 | 75秒。超过该时间阈值，会话中无数据传输则断开连接。           | 是                 |
| 服务启动最大时间 | 60秒。您的Web服务需要在60秒内监听`TENCENTCLOUD_SERVER_PORT`所指定的端口 | 是                 |

> 需要注意的是，如果您需要在本地写临时文件，则只能写到/tmp路径下，其他路径下写操作会失败。

### 配置环境变量

HTTP Service支持环境变量。您可以通过环境变量来存储一些配置信息，从而实现代码和配置分离。

环境变量相关操作请参考[环境变量管理](https://cloud.tencent.com/document/product/583/30228)。

### 配置VPC

HTTP Service支持配置VPC。配置VPC后，您可以在代码中访问您VPC内的云资源：例如CDB、CVM、Redis等。

VPC相关配置请参考[函数部署到 VPC 网络](https://cloud.tencent.com/document/product/583/19703)

> 需要注意的是：配置VPC后，您的代码如需访问Internet，则需配置NAT网关。详情请参考[函数在 VPC 网络中访问外网](https://cloud.tencent.com/document/product/583/19704)

### 日志监控

**日志**

当前HTTP Service提供了您的服务打印到stdout/stderr的日志（例如`console.log`打印的日志）。后续会增加HTTP access log和平台日志。

> 需要注意的是，如果您需要在本地写临时文件，则只能写到/tmp路径下，其他路径下写操作会失败。
>
> 此外，/tmp路径下空间有限，您需要注意定时清理。

**监控**

当前HTTP Service提供了以下监控指标：

并发连接数：HTTP并发连接数，按时间粒度（1分钟、5分钟）统计求和。

HTTP请求数：HTTP请求次数，按时间粒度（1分钟、5分钟）统计求和。

HTTP错误请求数：HTTP状态码非2xx的HTTP请求次数，按时间粒度（1分钟、5分钟）统计求和。

平均响应时间：在一定时段内（1分钟、5分钟）的HTTP请求时长（请求开始到请求结束）的平均值。
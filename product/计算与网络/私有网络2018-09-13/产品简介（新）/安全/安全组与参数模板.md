## 安全组
安全组是一种虚拟防火墙，具备**有状态**的数据包过滤功能，用于设置云服务器、负载均衡、云数据库等实例的网络访问控制，控制实例级别的出入流量，是重要的网络安全隔离手段。
您可以通过配置安全组规则，允许或禁止安全组内的实例的出流量和入流量。

### 特点
- 安全组是一个逻辑上的分组，您可以将同一地域内具有相同网络安全隔离需求的云服务器、弹性网卡、云数据库等实例加到同一个安全组内。
- 关联了同一安全组的实例间不会默认互通，您需要添加相应的允许规则。
- 安全组是有状态的，对于您已允许的入站流量，都将自动允许其流出，反之亦然。
- 您可以随时修改安全组的规则，新规则立即生效。

### 安全组规则
#### 组成部分
安全组规则包括如下几个组成部分：
- 来源：源数据（入站）或目标数据（出站）的 IP。
- 协议类型和协议端口：协议类型如 TCP、UDP、HTTP 等。
- 策略：允许或拒绝。

#### 规则优先级
- 安全组内规则具有优先级。规则优先级通过**规则在列表中的位置**来表示，列表顶端的规则优先级最高，最先应用；列表底端的规则优先级最低。
- 若有规则冲突，则默认应用**位置更前**的规则。
- 当有流量入/出绑定某安全组的实例时，将从安全组规则列表顶端的规则开始逐条匹配至最后一条。如果匹配某一条规则成功，允许通过，则不再匹配该规则之后的规则。

#### 多个安全组
一个实例可以绑定一个或多个安全组，当实例绑定多个安全组时，多个安全组将按照从上到下依次匹配执行，您可以随时调整安全组的优先级。

### 安全组模板
新建安全组时，您可以选择腾讯云为您提供两种安全组模版：
- 放通全部端口模版：将会放通所有出入站流量。
- 放通常用端口模板：将会放通 TCP 22端口（Linux SSH 登录），80、443端口（Web 服务），3389端口（Windows 远程登录）、 ICMP 协议（Ping）、放通内网。

如果提供的安全组模版不满足您的实际使用，您也可以新建自定义安全组，详情请参见 [创建安全组](https://cloud.tencent.com/document/product/213/18197#.E5.88.9B.E5.BB.BA.E5.AE.89.E5.85.A8.E7.BB.84)、[安全组应用案例](https://cloud.tencent.com/document/product/213/34601)。

## 参数模板
参数模板是是一组参数的集合，支持将IP地址和协议端口保存为模板，在添加安全组规则时可直接引用。合理使用参数模板，可以提高您使用安全组的效率。
### 参数模板类型
腾讯云支持如下四种类型的参数模板：
- IP 地址 (ipm) ：支持单个 IP、CIDR、IP 范围。
- IP 地址组 (ipmg)：多个 IP 地址对象集合。
- 协议端口 (ppm)：支持单个端口、多个端口、连续端口及所有端口，协议支持 TCP、UDP、ICMP、GRE 协议。
- 协议端口组 (ppmg) ：多个协议端口对象集合。

### 使用场景
参数模板使用场景如下：
- 统一管理具有相同诉求的 IP / 协议端口组。
- 统一管理具有频繁编辑诉求的 IP / 协议端口组。

**示例场景**
某银行只允许第三方已指定公网 IP 访问某些云服务器。

**使用参数模板操作步骤：**
1. 创建一个 IP 地址对象，将指定公网 IP 加入该 IP 地址对象中。
2. 在指定云服务器绑定的安全组上增加一条规则，允许源地址为**该 IP 地址对象**的访问。
3. 后续如需增加新的第三方公网 IP，只需往该 IP 地址组中增加 IP 即可，无需修改安全组规则或者新建安全组。

如果不使用参数模板功能，则需要重复多次编辑安全组规则，不易管理，容易出错。

## 命名空间

Namespace=QCE/TDMYSQL

## 监控指标

| 指标英文名                       | 指标中文名             | 指标含义                                                     | 单位  | 维度       | 统计周期                  |
| -------------------------------- | ---------------------- | ------------------------------------------------------------ | ----- | ---------- | ------------------------- |
| ActiveThreadCount                | 活跃线程数             | 实例级别监控指标， 计算方式为累加所有分片主备节点活跃线程数  | 个    | InstanceId | 60s、300s、 3600s、86400s |
| BinlogDiskAvailable              | 剩余Binlog日志磁盘空间 | 实例级别监控指标， 计算方式为累加各个分片BinlogDiskAvailableShard指标监控值 | GB    | InstanceId | 60s、300s、 3600s、86400s |
| BinlogUsedDisk                   | 已用Binlog日志磁盘空间 | 实例级别监控指标， 计算方式为累加各个分片主节点已用Binlog日志磁盘空间 | GB    | InstanceId | 60s、300s、 3600s、86400s |
| ConnUsageRate                    | DB连接使用率           | 实例级别监控指标， 取值为实例所有分片主备节点的DB连接使用率的最大值 | %     | InstanceId | 60s、300s、 3600s、86400s |
| CpuUsageRate                     | CPU利用率              | 实例级别监控指标，取值为实例所有分片主节点CPU使用率的最大值  | %     | InstanceId | 60s、300s、 3600s、86400s |
| DataDiskAvailable                | 可用数据磁盘空间       | 实例级别监控指标，计算方式为累加各个分片主节点可用数据磁盘空间 | GB    | InstanceId | 60s、300s、 3600s、86400s |
| DataDiskUsedRate                 | 数据磁盘空间利用率     | 实例级别监控指标，取值为实例各个分片主节点数据磁盘空间利用率最大值 | %     | InstanceId | 60s、300s、 3600s、86400s |
| DeleteTotal                      | DELETE请求数           | 实例级别监控指标，计算方式为累加实例各个分片主节点的Delete请求数 | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| InnodbBufferPoolReads            | innodb磁盘读页次数     | 实例级别监控指标，计算方式为累加实例所有分片主备节点innodb磁盘读页次数 | 次    | InstanceId | 60s、300s、 3600s、86400s |
| InnodbBufferPool<br>ReadAhead    | innodb缓冲池预读页次数 | 实例级别监控指标，计算方式为累加实例所有分片主备节点innodb缓冲池预读页次数 | 次    | InstanceId | 60s、300s、 3600s、86400s |
| InnodbBufferPool<br>ReadRequests | innodb缓冲池读页次数   | 实例级别监控指标，计算方式为累加实例所有分片主备节点innodb缓冲池读页次数 | 次    | InstanceId | 60s、300s、 3600s、86400s |
| InnodbRowsDeleted                | innodb执行DELETE行数   | 实例级别监控指标，计算方式为累加实例各个分片主节点innodb执行DELETE行数 | 行    | InstanceId | 60s、300s、 3600s、86400s |
| InnodbRowsInserted               | innodb执行INSERT行数   | 实例级别监控指标，计算方式为累加实例各个分片主节点innodb执行INSERT行数 | 行    | InstanceId | 60s、300s、 3600s、86400s |
| InnodbRowsRead                   | innodb执行READ行数     | 实例级别监控指标，计算方式为累加实例所有分片主备节点innodb执行READ行数 | 行    | InstanceId | 60s、300s、 3600s、86400s |
| InnodbRowsUpdated                | innodb执行UPDATE行数   | 实例级别监控指标，计算方式为累加实例各个分片主节点innodb执行UPDATE行数 | 行    | InstanceId | 60s、300s、 3600s、86400s |
| InsertTotal                      | INSERT请求数           | 实例级别监控指标，计算方式为累加实例各个分片主节点的INSERT请求数 | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| LongQueryCount                   | 慢查询数               | 实例级别监控指标，计算方式为累加实例各个分片主节点的慢查询数 | 次    | InstanceId | 60s、300s、 3600s、86400s |
| MemAvailable                     | 可用缓存空间           | 实例级别监控指标，计算方式为累加实例各个分片主节点的可用缓存空间 | GB    | InstanceId | 60s、300s、 3600s、86400s |
| MemHitRate                       | 缓存命中率             | 实例级别监控指标，取值为实例各个分片主节点的缓存命中率最小值 | %     | InstanceId | 60s、300s、 3600s、86400s |
| ReplaceSelectTotal               | REPLACE_SELECT请求数   | 实例级别监控指标，计算方式为累加实例各个分片主节点REPLACE-SELECT请求数 | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| ReplaceTotal                     | REPLACE请求数          | 实例级别监控指标，计算方式为累加实例各个分片主节点REPLACE请求数 | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| RequestTotal                     | 总请求数               | 实例级别监控指标，计算方式为累加实例所有主节点总请求数和所有备节点的Select请求数 | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| SelectTotal                      | SELECT请求数           | 实例级别监控指标，计算方式为累加实例所有分片主备节点SELECT请求数 | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| SlaveDelay                       | 备库延迟               | 实例级别监控指标，先计算各个分片的备延迟，然后取1个最大值作为这个实例的备延迟。分片的备延迟为这个分片的所有备节点延迟的最小值 | 秒    | InstanceId | 60s、300s、 3600s、86400s |
| UpdateTotal                      | UPDATE请求数           | 实例级别监控指标，计算方式为累加实例各个分片主节点UPDATE请求数 | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| ThreadsConnected                 | 当前打开连接数         | 实例级别监控指标，计算方式为累加实例所有分片主备节点当前打开连接数 | 次    | InstanceId | 60s、300s、 3600s、86400s |
| ConnMax                          | 最大连接数             | 实例级别监控指标，计算方式为累加实例所有分片主备节点最大连接数 | 个    | InstanceId | 60s、300s、 3600s、86400s |
| ClientConnTotal                  | 客户端总连接数         | 实例级别监控指标，计算方式为累加实例Proxy上的所有连接。这个指标真实展示了您有多少个客户端连到数据库实例上 | 个    | InstanceId | 60s、300s、 3600s、86400s |
| SQLTotal                         | SQL错误数              | 实例级别监控指标，表示您有多少条SQL发往数据库实例            | 条    | InstanceId | 60s、300s、 3600s、86400s |
| ErrorSQLTotal                    | SQL总数                | 实例级别监控指标，表示有多少条SQL执行错误                    | 条    | InstanceId | 60s、300s、 3600s、86400s |
| SuccessSQLTotal                  | SQL成功数              | 实例级别监控指标，表示成功执行的SQL数量                      | 个    | InstanceId | 60s、300s、 3600s、86400s |
| TimeRange0                       | 耗时(<5ms)请求数       | 实例级别监控指标，表示执行时间小于5ms的请求数                | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| TimeRange1                       | 耗时(5~20ms)请求数     | 实例级别监控指标，表示执行时间5-20ms的请求数                 | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| TimeRange2                       | 耗时(20~30ms)请求数    | 实例级别监控指标，表示执行时间20~30ms的请求数                | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| TimeRange3                       | 耗时(大于30ms)请求数   | 实例级别监控指标，表示执行时间大于30ms的请求数               | 次/秒 | InstanceId | 60s、300s、 3600s、86400s |
| MasterSwitchedTotal              | 主从切换次数           | 实例级别监控指标，表示实例主从切换发生的次数                 | 次    | InstanceId | 60s、300s、 3600s、86400s |
| IOUsageRate                      | IO利用率               | 实例级别监控指标，取值为实例各个分片主节点IO利用率的最大值   | %     | InstanceId | 60s、300s、 3600s、86400s |

> ?每个指标的统计粒度（Period）可取值不一定相同，可通过 [DescribeBaseMetrics](https://cloud.tencent.com/document/product/248/30351) 接口获取每个指标支持的统计粒度

## 各维度对应参数总览

| 参数名称                       | 维度名称   | 维度解释           | 格式                                  |
| ------------------------------ | ---------- | ------------------ | ------------------------------------- |
| Instances.N.Dimensions.0.Name  | InstanceId | 实例 ID 的维度名称 | 输入 String 类型维度名称：InstanceId  |
| Instances.N.Dimensions.0.Value | InstanceId | 具体实例 ID        | 输入具体实例 ID，例如：tdsql-9kjauqq1 |

## 入参说明

分布式数据库TDSQL MySQL版-实例监控指标入参说明下：

&Namespace=QCE/TDMYSQL
&Instances.N.Dimensions.0.Name=InstanceId
&Instances.N.Dimensions.0.Value=具体实例 ID

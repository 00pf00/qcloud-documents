## 命名空间

Namespace=QCE/TDMYSQL

## 监控指标

| 指标英文名                           | 指标中文名             | 指标含义                                                   | 单位  | 维度                  | 统计周期                  |
| ------------------------------------ | ---------------------- | ---------------------------------------------------------- | ----- | --------------------- | ------------------------- |
| ActiveThread<br>CountNode            | 活跃线程数             | DB节点线程池活跃线程个数                                   | 个    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| BinlogDisk<br>AvailableNode          | 剩余Binlog日志磁盘空间 | DB节点剩余Binlog<br/>日志磁盘空间                          | GB    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| BinlogUsedDiskNode                   | 已用Binlog日志磁盘空间 | DB节点已用Binlog<br/>日志磁盘空间                          | GB    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| ConnUsageRateNode                    | DB连接使用率           | DB节点连接使用率，计算方式 为ThreadsConnected/ConnMax      | %     | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| CpuUsageRateNode                     | CPU利用率              | DB节点CPU使用率                                            | %     | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| DataDisk<br>AvailableNode            | 可用数据磁盘空间       | DB节点可用数据磁盘空间                                     | GB    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| DataDisk<br>UsedRateNode             | 数据磁盘空间利用率     | DB节点数据磁盘空间利用率                                   | %     | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| DeleteTotalNode                      | DELETE请求数           | DB节点Delete请求数                                         | 次/秒 | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| IOUsageRateNode                      | IO利用率               | IO利用率                                                   | %     | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| InnodbBuffer<br>PoolReadsNode        | innodb磁盘读页次数     | DB节点innodb<br/>磁盘读页次数                              | 次    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| InnodbBufferPool<br>ReadAheadNode    | innodb缓冲池预读页次数 | DB节点innodb<br/>缓冲池预读页次数                          | 次    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| InnodbBufferPool<br>ReadRequestsNode | innodb缓冲池读页次数   | DB节点innodb<br/>缓冲池读页次数                            | 次    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| InnodbRows<br>DeletedNode            | innodb执行DELETE行数   | DB节点innodb<br/>执行DELETE行数                            | 行    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| InnodbRows<br>InsertedNode           | innodb执行INSERT行数   | DB节点innodb<br/>执行INSERT行数                            | 行    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| InnodbRowsReadNode                   | innodb执行READ行数     | DB节点innodb<br/>执行READ行数                              | 行    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| InnodbRows<br>UpdatedNode            | innodb执行UPDATE行数   | DB节点innodb<br>执行UPDATE行数                             | 行    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| InsertTotalNode                      | INSERT请求数           | DB节点INSERT请求数                                         | 次/秒 | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| LongQueryCountNode                   | 慢查询数               | DB节点慢查询数                                             | 次    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| MemAvailableNode                     | 可用缓存空间           | DB节点可用缓存空间                                         | GB    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| MemHitRateNode                       | 缓存命中率             | DB节点缓存命中率                                           | %     | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| ReplaceSelect<br>TotalNode           | REPLACE_SELECT请求数   | DB节点REPLACE-SELECT<br/>请求数                            | 次/秒 | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| ReplaceTotalNode                     | REPLACE请求数          | DB节点总请求数                                             | 次/秒 | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| RequestTotalNode                     | 总请求数               | DB节点总请求数                                             | 次/秒 | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| SelectTotalNode                      | SELECT请求数           | DB节点SELECT请求数                                         | 次/秒 | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| SlaveDelayNode                       | 备延迟                 | DB节点备延迟                                               | 秒    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| UpdateTotalNode                      | 当前打开连接数         | DB节点UPDATE请求数                                         | 次/秒 | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| Threads<br>ConnectedNode             | UPDATE请求数           | DB节点连接数，计算方式为 show processlist得到的session个数 | 个    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| ConnMaxNode                          | 最大连接数             | DB节点最大连接数                                           | 个    | InstanceId,<br>NodeId | 60s、300s、 3600s、86400s |
| IsMaster                             | 是否为主DB             | 表示这个DB节点是否为主DB                                   | -     | InstanceId,<br>NodeId | 60s                       |

> ?每个指标的统计粒度（Period）可取值不一定相同，可通过 [DescribeBaseMetrics](https://cloud.tencent.com/document/product/248/30351) 接口获取每个指标支持的统计粒度

## 各维度对应参数总览

| 参数名称                       | 维度名称   | 维度解释           | 格式                                                         |
| ------------------------------ | ---------- | ------------------ | ------------------------------------------------------------ |
| Instances.N.Dimensions.0.Name  | InstanceId | 实例 ID 的维度名称 | 输入 String 类型维度名称：InstanceId                         |
| Instances.N.Dimensions.0.Value | InstanceId | 具体实例 ID        | 输入具体实例 ID，例如：tdsql-9kjauqq1                        |
| Instances.N.Dimensions.1.Name  | NodeId     | 节点 ID 的维度名称 | 输入 String 类型维度名称：NodeId                             |
| Instances.N.Dimensions.1.Value | NodeId     | 具体节点 ID        | 输入具体节点 ID，例如：9e89ddb89376a0a388<br>5da35c4d44b5f75fda8d57 |

## 入参说明

分布式数据库TDSQL MySQL版-节点监控指标入参说明下：

&Namespace=QCE/TDMYSQL
&Instances.N.Dimensions.0.Name=InstanceId
&Instances.N.Dimensions.0.Value=具体实例 ID
&Instances.N.Dimensions.1.Name=NodeId
&Instances.N.Dimensions.1.Value=具体节点 ID

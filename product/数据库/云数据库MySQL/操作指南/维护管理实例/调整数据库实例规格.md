云数据库 MySQL 支持快捷调整实例规格，提供灵活的扩缩容操作。您可根据业务所处的实际情况（业务初期、业务快速发展期、业务高峰期、业务低谷期等）灵活的调整 MySQL 实例的规格，从而更好地满足资源充分利用和成本实时优化等需求。调整费用变更请参见 [调整实例费用说明](https://cloud.tencent.com/document/product/236/36350)。

#### 实例硬盘超限说明
- 为保障您业务正常进行，当硬盘空间快要满时，请及时升级数据库实例规格或者购买硬盘空间。
>?硬盘空间可在 [MySQL 控制台](https://console.cloud.tencent.com/cdb) 实例详情页查看，您也可通过 [配置告警](https://cloud.tencent.com/document/product/236/8457) 及时接收硬盘告警消息。
- 实例存储数据量超过实例，实例会被锁住，仅能读取数据不能写入，需扩容或在控制台删除部分数据库表解除只读。
- 为避免数据库重复触发锁定状态，仅当实例剩余空间大于20%或大于50GB时，实例会解除锁定状态，恢复正常读写功能。

## 调整方式
- **极速变配**：本地剩余资源充足情况下，调整数据库配置时，会触发极速变配能力，极速变配不涉及数据迁移，降低了准备阶段等待的时间。
- **非极速变配**：本地剩余资源不足情况下，调整数据库配置时，会涉及到数据的搬迁，调整配置完毕时可能会涉及实例切换。
![](https://main.qcloudimg.com/raw/2313754a1ac10cc913ff30fef6797442.png)

## [调整配置规则](id:guize)
- 云数据库 MySQL 实例及其所关联的只读实例和灾备实例处于正常状态下（运行中），并且当前没有任务执行时才能够发起调整配置操作。
- 调整配置过程中，不允许取消本次调整配置操作。
- 调整配置前后实例的名称、访问 IP、访问端口均不发生变化。
- 调整配置过程中，请尽量避免修改 MySQL 的全局参数、用户密码等操作。
- 调整配置过程中，可能会涉及到数据的搬迁，期间 MySQL 实例可正常访问，业务不受影响。
- 调整配置完毕时可能会涉及实例切换（即秒级 MySQL 数据库连接断开），建议程序有自动重连功能，并且选择实例可维护时间内做切换。请参见 [设置实例维护时间](https://cloud.tencent.com/document/product/236/10929)。
- MySQL 单节点 - 基础型，在调整配置过程中，存在大约15分钟实例不可用的情况，建议在业务低峰期操作。

## 通过控制台调整实例配置
1. 登录 [MySQL 控制台](https://console.cloud.tencent.com/cdb)，在实例列表，选择需要调整的实例，在“操作”列选择【更多】>【调整配置】。
2. 在弹出的对话框，选择调整后的配置，单击【提交】即可。
![](https://main.qcloudimg.com/raw/97fa5655a5e451456658c0797b163609.png)

### 极速变配
- 调整数据库配置时，如本地剩余资源充足，会触发极速变配能力。极速变配没有数据迁移过程，降低了准备阶段等待的时间。
- 部分极速变配场景不涉及重启，此时提交的变配会在调整配置完毕时即时生效。如下图：
![](https://main.qcloudimg.com/raw/c5a6655393390f749501d69641976149.png)

## 通过 API 调整实例配置
用户可以使用 UpgradeDBInstance 接口调整实例配置，请参见 [调整云数据库实例的配置](https://cloud.tencent.com/document/product/236/15876)。

## 热点问题
#### 调整数据库实例规格，对实例有什么影响吗？
- MySQL 在调整配置过程中，可能进行数据迁移，期间实例访问不受影响；迁移完成后会进行切换，会有秒级别闪断，请确保业务具备重连机制。
- MySQL 单节点 - 基础型，在调整配置过程中，存在大约15分钟实例不可用的情况，建议在业务低峰期操作。

#### 为什么我的数据库无法降配？
可能是您的存储已经超过了硬盘最大容量，需要先清理下数据，让剩余空闲空间大于20%或者大于50G，才能进行降配操作。

#### 控制台调整配置后，为什么一直显示在“升级待切换”状态中？
有可能是您在 [控制台](https://console.cloud.tencent.com/cdb) 调整配置时，选择的“切换时间”为“维护时间内切换”，导致无法立即切换。
如您需立即切换，可在实例列表的“操作”列单击【立即切换】，切换会有秒级别闪断，请确保业务具备重连机制。

#### 调整实例规格，升级需要多长时间？
数据库的升级时间和您当前数据库中的数据量的大小以及数据复制读有关，具体时间无法进行预估。
升级过程中不会影响您当前实例的正常使用，在升级完成切换 VIP 时会有秒级的瞬断。

#### 调整实例进度，在哪里可以查看？
您可在控制台的 [任务列表](https://console.cloud.tencent.com/mysql/task) 查看任务进度。

#### 硬盘空间即将用尽，怎么办？
用户硬盘空间使用达到85%以上，建议考虑删除无用数据或者扩容硬盘空间，通过 [控制台](https://console.cloud.tencent.com/cdb) 可以进行硬盘空间扩容。

#### 数据库变配时，触发极速变配后，参数会调整吗？
与迁移数据进行变配相同，参数会跟随实例规格的变化而调整。

#### 极速变配对比普通迁移升降配，有什么区别？
极速变配减少了数据迁移的时间，服务中断的时间相比普通方式长，预计为1分钟 - 2分钟。


本文为您介绍如何通过云数据库 MySQL 控制台开通数据库代理读写分离。

## 前提条件
- 已 [开通数据库代理](https://cloud.tencent.com/document/product/236/54653)。
- 该主实例已 [创建只读实例](https://cloud.tencent.com/document/product/236/7270)。

## 操作步骤
1. 登录 [MySQL 控制台](https://console.cloud.tencent.com/cdb)，在实例列表，选择已开启代理的主实例，单击实例名或“操作”列的【管理】，进入实例管理页面。
2. 在实例管理页面，选择【数据库代理】>【读写分离】页，单击【立即开启】。
![](https://main.qcloudimg.com/raw/5634da6096e8ffd53c09fdbea035d0b1.png)
3. 在弹出的对话框，设置延迟剔除、权重等后，单击【确定】。
 - **只读实例剔除**：是否启动剔除策略。被剔除的实例权重自动设置为0。若只读实例延迟超过阈值被剔除会向用户发出告警（配置只读实例剔除告警和接收对象请参见 告警功能），且实例状态为停服同步中、权重为0，当只读实例延迟时间小于阈值时会重新加入到 RO 组。同时，不管是否启用延迟剔除功能，只读实例故障被剔除后，待实例修复也会重新加入到 RO 组。
 - **读权重分配**：支持系统自动分配权重和自定义权重两种权重设置方式。权重输入范围为0 - 100，且必须是整数。
   系统自动分配时，仅能设置主实例的权重。权重为0时，主实例不会
 - **故障转移**：推荐开启，数据库代理出现故障时，连接地址将会路由到主实例。
 - **自动添加只读实例**：开启后，主实例新建的只读实例会自动添加到
![](https://main.qcloudimg.com/raw/577d9bf1c3fdb06c7621fcb2075f80b9.png)




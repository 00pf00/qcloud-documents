## 操作场景
云数据库 Redis 暂时不支持外网访问，您可以通过具备外网 IP 的云服务器 CVM 进行端口转发，来实现外网访问 Redis 服务。

![](https://main.qcloudimg.com/raw/0f447f0bbbf9c1d5729b2e0cd9b73ae2.png)
云主机转发示意图

## 操作步骤
1. 登录云服务器，开通云服务器 IP 转发功能。
```
echo 1 > /proc/sys/net/ipv4/ip_forward
```
2. 配置转发规则，下面例子是将26.78.2.2:6379的访问转发到内网Redis服务 10.0.0.5:6379。
```
iptables -t nat -A PREROUTING -p tcp --dport 6379 -j DNAT --to-destination 10.0.0.5:6379
iptables -t nat -A POSTROUTING -d 10.0.0.5 -p tcp --dport 6379 -j MASQUERADE
```
3. 配置云主机安全组，放开云主机外网端口的访问权限，建议安全组规则放开仅需要访问的源地址；
4. 通过26.78.2.2:6379即可连接内网Redis实例；
5. iptable转发的方式存在稳定性风险，不建在生产环境使用外网接入；


连接云数据库 Redis 的方式如下三种：

- **通过内网连接**：使用云服务器 CVM 直接访问云数据库的内网地址，这种连接方式使用内网高速网络，延迟低。
- **通过外网连接**：通过具备外网 IP 的云服务器 CVM 进行端口转发，来实现外网连接 Redis 实例。
- **通过 DMC 连接**：通过 [数据管理 DMC](https://dms.cloud.tencent.com/#/login) 连接 Redis 实例。

## 通过内网连接
使用的云服务器 CVM 访问自动分配给云数据库的内网地址，这种连接方式使用内网高速网络，延迟低。云服务器和数据库须是同一账号，且同一个[ VPC](https://cloud.tencent.com/document/product/215/20046) 内（保障同一个地域），或同在基础网络内。
>?对于不同的 VPC 下（包括同账号/不同账号，同地域/不同地域）的云服务器和数据库，内网连接方式请参见  [对等连接](https://cloud.tencent.com/document/product/553/18827)。

### 准备环境
1. 登录到 Linux 云服务器，请参见 [快速配置 Linux 云服务器](https://cloud.tencent.com/document/product/213/2936)。
2. 以 CentOS 系统的云服务器为例，执行如下命令安装 Redis 客户端：
```
yum install redis -y
```
提示`Complete!`说明客户端安装完成。

### 连接实例
#### 免密码认证实例
如果您的实例为免密码认证，则连接命令如下：
```
redis-cli -h IP地址 -p 端口
```

#### 有密码实例
如果您的实例是有密码实例，则支持开源格式类型的连接方式：
```
redis-cli -h IP地址 -p 端口 -a 密码
```

例如您设置的密码是 abcd1234，则连接命令如下：
```
redis-cli -h IP地址 -p 端口 -a abcd1234
```
>?2018年1月之前购买的实例，需将“密码”替换为“实例ID:密码”的格式才能访问。示例如下：
>`redis-cli -h IP地址 -p 端口 -a crs-bkuza6i3:abcd1234`
>


>?其他语言的连接方式示例请参见 [连接实例](https://cloud.tencent.com/document/product/239/30884)。

## 通过外网连接
云数据库 Redis 暂时不支持外网访问，您可以通过具备外网 IP 的云服务器 CVM 进行端口转发，来实现外网访问 Redis 实例。
>?iptable 转发的方式存在稳定性风险，不建议在生产环境使用外网接入。
>
![](https://main.qcloudimg.com/raw/3b43692a96ad3a63cca91e525b1e8d8e.png)

### 连接步骤
1. 登录 [云服务器](https://cloud.tencent.com/document/product/213/5436)，开通云服务器 IP 转发功能。
>?云服务器和数据库须是同一账号，且同一个 VPC 内（保障同一个地域，不限地域），或同在基础网络内。
>
```
echo 1 > /proc/sys/net/ipv4/ip_forward
```
2. 配置转发规则，如下示例是将26.xx.x.2:10001（云服务器外网地址，端口可自行选择）的访问转发至内网为10.0.0.5:6379的 Redis 实例。
```
iptables -t nat -A PREROUTING -p tcp --dport 10001 -j DNAT --to-destination 10.0.0.5:6379
iptables -t nat -A POSTROUTING -d 10.0.0.5 -p tcp --dport 6379 -j MASQUERADE
```
3. 配置 [云服务器安全组](https://cloud.tencent.com/document/product/213/18197)，放开云服务器外网端口的访问权限，安全组规则建议仅放开需要访问的源地址。
4. 在访问端通过外网地址（本示例即26.xx.xx.2:10001），连接内网 Redis 实例，连接命令与内网连接命令一致，请参见 [连接实例](https://cloud.tencent.com/document/product/239/30877#.E8.BF.9E.E6.8E.A5.E5.AE.9E.E4.BE.8B)。
5. 连接 Redis 后，执行`info`命令返回数据库相关信息即表示连接成功。

## 通过 DMC 连接
1. 登录 [数据管理 DMC 页面](https://dms.cloud.tencent.com/#/login) ，“类型”选择“Redis”。
2. 选择对应地域和实例，输入实例默认账号的密码（即在创建实例时输入的密码），单击【登录】即可进入 DMC 控制台。
>?如忘记密码，可参考 [管理账号](https://cloud.tencent.com/document/product/239/36710) 进行重置。
>
![](https://main.qcloudimg.com/raw/175bfdc01bca25d15d5b9111ba1a9592.png)

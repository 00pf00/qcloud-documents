### 简介
云数据库Redis支持开启和关闭读写分离功能，针对读多写少的业务场景，解决热点数据集中的读需求，最大支持1主5从模式，提供最大5倍的读性能扩展能力。

### 读写分离架构

#### 社区版Redis4.0集群版原理
- **读写分离原理**: 云数据库Redis4.0集群版通过Proxy层实现自动读写分离;
- **读写分离权重**: 开启读写分离Proxy将按照主节点只写，从节点平均分配读请求的方式来提供访问；
![](https://main.qcloudimg.com/raw/c6965cce2e652177ad04696df57b9456.jpg)

#### CKV集群版读写分离原理
 - **读写分离原理**: 云数据库Redis-CKV版系统天生支持读写分离架构，所有请求通过LB（负载均衡网关）分配到各个集群的各个节点，每个节点都有全局的Slot路由信息。开启读写分离后，如果读取的Key落在该节点将直接读取数据返回，否则将会根据路由信息将请求转发到对应的节点，由对应节点读取数据后返回该节点，然后返回客户端。
 - **读写分离权重**: 因为CKV版本的流量全靠LB来路由，所以这里的读写权重是按照TCP连接的四元组（源IP、源端口、目的IP、目的端口）来平均分配；<br>
![](https://main.qcloudimg.com/raw/1f07c6b9437fbcb2fbff10bffca2f29d.jpg)

### 读写分离计费

- 开启读写分离，将对只读副本收取一定的费用，具体费用详情请参见文档 [计费说明](https://cloud.tencent.com/document/product/239/9894)



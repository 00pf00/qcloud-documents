## HTAP 事务和分析双引擎
事务和分析混合处理技术（Hybrid Transactional/Analytical Processing，HTAP）要求资源诉求矛盾的两种业务类型在同一个数据库实例中完成处理。传统的数据库因各方面的限制，偏向于 OLTP 或 OLAP 的场景，两者很难兼得。TBase 经过专门的设计能完美的支持 HTAP，同时具备高效的 OLTP 处理能力和海量的 OLAP 能力，降低业务复杂度和业务成本。
TBase 在集群的协调节点（Coordinator Node，CN）提供 OLTP 和 OLAP 两个平面视角。OLTP 业务运行在存储节点（Datanode，DN）的主节点，OLAP 业务运行在 DN 的备节点，二者数据同步采用流复制的方式。TBase 内核优化器会根据查询所在的平面选用对应的优化器，同时 OLTP 和 OLAP 平面针对不同的负载采用合适的存储格式。

## 高效分布式 JOIN 计算
在业务分析场景，通常会有2个或多个表关联（JOIN）的逻辑，此逻辑在单机模式中是一个简单的操作，但在集群模式下，由于数据分布在1个或者多个物理节点中，处理会相对复杂。在很多分布式解决方案中，JOIN 会把数据拉取到一个节点，进行关联计算，不仅耗费了大量网络资源，且语句的耗时会很高。TBase 通过多种方式对分布式 JOIN 进行了高效计算：
- 在执行方式上，协调节点接收到用户的 SQL 请求，根据收集的集群统计信息，生成最优的集群级分布式查询计划，并下发到参与计算的数据节点上进行执行，即协调节点下发的是执行计划，数据节点负责执行该计划。
- 在数据交互上，数据节点之间建立了高效数据交换通道，可以高效的进行交换数据，数据交换的过程在 TBase 里称之数据重分布（Data Redistribution）。
基于高效的全局查询计划和数据重分布的技术支撑，TBase 能轻易发挥并行计算的优势，高效完成 JOIN 过程。

## 行列混合存储功能
行存储是 TBase 的基本存储格式，为支持高效的 OLAP，TBase 还提供了完整的列存储能力，业务可以根据需要对写入数据库中的数据选择对应存储格式。TBase 列存储支持强大的压缩能力，包括透明压缩和轻量级压缩，透明压缩支持 gzip，zstd 等压缩算法，轻量级压缩算法可根据数据的特征进行高效压缩，压缩比高达400+。

## 多核并行计算功能
TBase 在节点内部采用了并行计算，同时启动多个进程来协同完成一个查询，可充分利用服务器的多核处理能力来快速、高效地完成查询。通常情况下，TBase 会启动两个进程来完成查询，查询时间会大大缩短，如果有更多的资源可供使用，查询时间则会呈线性优化。
TBase 会根据查询表大小来决定是否进行并行查询，表的数据量超过阈值后，才会采用并行计算，当需要并行计算时，会根据表大小得出并行度，即需要的进程个数。

## 多周边生态支持
TBase 具有丰富的周边生态：
- 支持强大的地理信息系统（GIS）。通过集群化的 PostGis 插件，提供存储空间地理数据的支持，使 TBase 成为一个空间数据库，能够通过 SQL 语言高效的进行空间数据管理、数量测量和几何拓扑分析。
- TBase 不仅是一个分布式关系型数据库系统，同时还支持非关系数据类型 JSON。
- 支持 Foreign Data Wrappers（FDW）功能，该功能实现了部分的 SQL/MED 规定，允许用户使用普通 SQL 查询来访问位于 PostgreSQL 之外的数据。FDW 功能提供一套编程接口，用户可在上面进行插件式的二次开发，建立外部数据源和数据库间的数据通道。大多数情况下用户可用 oracle_fdw、mysql_fdw、postgres_fdw，非关系型数据库的 redis_fdw、mangodb_fdw，以及大数据的 hive_fdw、hdfs_fdw 等。基于 FDW 功能和已有插件，TBase 提供强大的数据库联邦能力，通过 TBase 能够访问已有的多个数据源的数据。

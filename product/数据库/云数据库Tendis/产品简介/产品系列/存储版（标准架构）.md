云数据库 Tendis存储版（标准架构）基于腾讯内部广泛使用的KV存储引擎 Tendis ，Tendis 是腾讯自研兼容 Redis 协议的 Rocksdb 存储引擎，拥有高性能、高压缩比、高稳定性特性，在腾讯内部有着丰富的运营经验。

存储版（集群架构）将数据直接存储到磁盘，通过多副本保障服务的可用性和数据的可靠性，适用于大容量 KV（key-value）存储场景，存储版（集群架构）兼容 Redis 4.0 版本绝大部分命令，使用门槛低，可以充分利用 Redis 丰富的数据结构和操作命令给业务带来高效的存取方案。
![Tendis存储版架构图](https://redis-doc-2020-1254408587.cos.ap-guangzhou.myqcloud.com/tendis-arch.png)


## 混合存储版特点
#### 低成本
- 数据存储在磁盘，相对Redis的全内存方案，成本降冷80%以上，同时提供存储级别的数据可靠性。
- 数据落盘自动压缩，采用 LZ4 压缩算法在性能和容量中寻找平衡，通常数据压缩率能到30%左右。

#### 高效率
- 兼容绝大部分 Redis命令和数据结构，业务可以完整地体验 Redis 高效的数据组织结构和操作接口。

#### 大容量
- 依托于云硬盘提供的大容量存储空间，存储版提供50GB - 32TB的超大存储容量规格。
- 磁盘数据支持6副本，充分保障数据的可靠性。


## 使用限制
Tendis存储版本兼容绝大部分Redis 4.0的命令，详情可参考文档[命令兼容性]，目前有以下数据相关的命令暂时不支持(Tendis对Redis对命令兼容性我们在持续对完善过程中，如果下述命令影响到了业务使用，你可以通过提工单的方式提出需求，我们将优先评估支持)：

- **不支持的命令**

| 命令族           | 命令                | 兼容性 |
|---------------|-------------------|-----|
| connection 族  | swapdb            | x   |
| keys 族        | randomkey         | x   |
| keys 族        | touch             | x   |
| keys 族        | object            | x   |
| keys 族        | wait              | x   |
| keys 族        | migrate           | x   |
| list 族        | blpop             | x   |
| list 族        | brpop             | x   |
| list 族        | brpoplpush        | x   |
| sorted sets 族 | zpopmax           | x   |
| sorted sets 族 | zpopmin           | x   |
| sorted sets 族 | bzpopmax          | x   |
| sorted sets 族 | bzpopmin          | x   |
| scripting 族   | eval              | x   |
| scripting 族   | evalsha           | x   |
| scripting 族   | script debug      | x   |
| scripting 族   | script exists     | x   |
| scripting 族   | script flush      | x   |
| scripting 族   | script load       | x   |
| scripting 族   | script kill       | x   |
| geo 族         | geoadd            | x   |
| geo 族         | geohash           | x   |
| geo 族         | geopos            | x   |
| geo 族         | geodist           | x   |
| geo 族         | georadius         | x   |
| geo 族         | georadiusbymember | x   |
<br>

- **多数据库（DB）支持说明**
Tendis存储版不支持多 DB，但是支持 SELECT 0 命令。

- **低性能命令**
  - linsert、lrem：List 命令族中的 linsert、lrem 命令不建议使用，这两个命令会在磁盘中遍历 list 节点，命令的执行时间复杂度为 O(n)，性能较差，list 节点数较大时，命令会执行超时。
  - append：append 命令在字符长度超过1MB后性能较差。
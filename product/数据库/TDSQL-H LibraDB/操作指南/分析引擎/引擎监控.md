## 引擎监控

LibraSQL 分析引擎提供了详细的监控信息，包括ZooKeeper和集群节点，便于用户诊断集群健康情况。

![分析引擎-实例监控](https://qcloudimg.tencent-cloud.cn/raw/e0cf10dead73b6f6be5ffbccffe536d5.png)





- 对于ZooKeeper，提供的监控信息包括：
  - 网络入流量、网络出流量、CPU使用率、磁盘使用率、磁盘使用量、磁盘IOPS大小、磁盘IOPS使用率、内存使用率和内存使用量。


  > **磁盘IOPS大小**：当前副本的IOPS数值。
  > **磁盘IOPS使用率**：当前副本，IOPS占用上限的比例。



- 对于集群节点，除了提供和ZooKeeper相同的监控项外，还提供了ClickHouse的相关指标。

| 监控项                    | 注释                                             |
| ------------------------- | ------------------------------------------------ |
| 活跃分区目录数            | 采集自system.parts，当前所有的active的parts数量  |
| 当前连接数                | 当前连接数目（TCP/MySQL/HTTP）                   |
| 每秒写入大小(Bytes/s)     | 平均每秒写入数据量的大小                         |
| 每秒写入次数(Count/s)     | 平均每秒insert写入次数                           |
| 每秒延迟写入次数(Count/s) | 由于写入压力过大，平均每秒被延时写入的insert数目 |
| 当前合并数                | 当前正在进行的merge的数目                        |
| 每秒合并数(Count/s)       | 平均每秒完成merge的数目                          |
| 每秒写入行数(Count/s)     | 平均每秒写入的行数                               |
| 每秒查询次数(Count/s)     | 平均每秒的查询数目                               |
| 访问ZooKeeper延迟(ms)     | 平均每秒ZooKeeper访问延时增加                    |
| 请求ZooKeeper次数         | 当前的ZooKeeper请求数目                          |
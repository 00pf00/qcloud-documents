

## 配置场景

为了避免客户的资源被非法用户访问，腾讯云除了支持在 CDN 边缘进行 [高级时间戳鉴权](https://cloud.tencent.com/document/product/228/41622) 之外，也同时支持将请求转发至客户指定的远程鉴权服务器，由该鉴权服务器对用户请求进行校验，CDN 根据远程鉴权服务器返回的校验结果来决定是否继续提供服务。

远程鉴权的请求流程如下：

1. 终端用户对资源发起请求
2. CDN 将请求同步转发至远程鉴权服务器
3. 远程鉴权服务器返回鉴权结果
4. CDN 根据鉴权结果来决定是否继续响应该用户的请求

![](https://main.qcloudimg.com/raw/3160535fca641d7e74ec7c355808af63.jpg)


## 配置指南

登录 [CDN 控制台](https://console.cloud.tencent.com/cdn)，在菜单栏里选择**域名管理**，单击域名右侧**管理**，进入域名配置页面，**访问控制**中即可进行远程鉴权相关的配置：

- 远程鉴权地址：支持 HTTP/HTTPS 协议，可填写域名或者IP地址。
- 请求方法：支持遵循终端用户请求方法，或者指定 GET/POST/HEAD 等请求方法。
- 鉴权文件类型：支持针对特定类型文件开启远程鉴权。
- 鉴权超时时长：配置远程鉴权服务器的响应超时时间。
- 超时执行动作：配置远程鉴权超时后的执行动作。

<img src="https://main.qcloudimg.com/raw/0b248eb16783442e3c6bb7318daec5f5.jpg" width="80%">

> !
> - 当前仅支持同步远程鉴权，即 CDN 收到远程鉴权服务器返回鉴权结果后才能进行响应。
> - 当前请求URL为`www.business.com/1.jpg` 且远程鉴权地址配置为 `http://www.example.com` ，则转发给远程鉴权服务器的请求为：`http://www.example.com/1.jpg`。

## 功能介绍

CDN 上分发的内容为默认公开资源，为了避免恶意用户通过技术手段，盗链服务商提供的内容进行牟利，腾讯云 CDN 支持 URL 鉴权配置。URL 鉴权多用于视频、安装包等内容的安全保护。
>? 不同鉴权模式算法公式不同，本篇文档为 TypeC 的配置说明。

## 字段含义

| 字段       | 描述                                                         |
| ---------- | ------------------------------------------------------------ |
| 鉴权密钥   | 用户自定义设置或随机生成的6 - 32位字符，由大小写字母或数字组成 |
| 签名参数   | 自定义签名参数，格式为1 -1 00个字符，由数字、英文大小写字母及下划线组成，不能以数字开头 |
| 有效时间   | 过期时间，签名有效时间                                       |
| 时间格式   | 携带时间戳为十进制 UNIX 时间，或十六进制 UNIX 时间           |
| 时间戳参数 | 自定义时间戳参数，格式为1 - 100个字符，由数字、英文大小写字母及下划线组成，不能以数字开头 |

## 算法说明

- 访问加密 URL 格式：

```
http://DomainName/Filename?auth_key= MD5( PrivateKey + path + timestamp)
```

- 字段解析：

```1.    
privateKey： 设置的秘钥
Path：文件路径，不包括“？”之后的参数
timestamp：UTC时间，十进制
```

## 配置指引

1. 登录 CDN 控制台，进入【域名管理】页面，选择需要设置的域名，单击【管理】。
   ![](https://main.qcloudimg.com/raw/ae4ba32915020737649e5698ea15ebd6.png)
2. 在【安全配置】中找到【鉴权配置】模块，单击开启【鉴权配置】。
   ![3](https://main.qcloudimg.com/raw/46b59b59fbc0a270930b8ca7d38f6836.png)
3. 弹出【鉴权配置】弹窗，默认选中模式 A 并展示模式示例：
   ![](https://main.qcloudimg.com/raw/15eae56e5cabb6343a25336a6a11c49f.png)
4. 单击【下一步】，进入**设置参数**窗口，填写鉴权密钥、签名参数及有效时间：
   ![](https://main.qcloudimg.com/raw/29269ac36e195cb076dc11cb6ca57228.png)
5. 单击【下一步】，进入**配置鉴权对象**窗口，选择鉴权范围，若制定文件类型鉴权/不鉴权，请填写鉴权对象：
   ![](https://main.qcloudimg.com/raw/cf29224f1ac7f83fd1a452c432a46c1c.png)

## 鉴权计算器

您可以使用鉴权计算器来核对请求路径、签名是否计算正确。

- 进入页面默认是模式 A，填写鉴权密钥、签名参数、访问路径、时间设置及有效时间：
  ![](https://main.qcloudimg.com/raw/3531d94ea75de2cd636eb94c43d71f9a.png)
- 单击【生成】，下框会展示鉴权 URL 及过期时间：
  ![](https://main.qcloudimg.com/raw/924a54b9be9f7b454a989d04b2d0d45b.png)

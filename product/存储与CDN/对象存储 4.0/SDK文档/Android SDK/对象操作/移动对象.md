## 简介

本文档提供关于对象的移动操作相关的 API 概览以及 SDK 示例代码。

| API                                                          | 操作名         | 操作描述                                  |
| ------------------------------------------------------------ | -------------- | ----------------------------------------- |
| [PUT Object - Copy](https://cloud.tencent.com/document/product/436/10881) | 设置对象复制（修改对象属性）   | 复制文件到目标路径                       |
| [DELETE Object](https://cloud.tencent.com/document/product/436/7743) | 删除单个对象   | 在存储桶中删除指定对象 |

## SDK API 参考

SDK 所有接口的具体参数与方法说明，请参考 [SDK API 参考](https://cos-android-sdk-doc-1253960454.file.myqcloud.com/)。

## 移动对象

移动对象主要包括两个操作：复制源对象到目标位置，删除源对象。

COS 上的对象通过 'bucket+key' 这个名字来标识，移动对象也就意味着对这个对象改名字，SDK 目前没有提供给对象改名字的单独接口，但是可以通过基本操作，达到这个效果。

例如 'mybucket' 这个桶中的 'mykey' 这个对象要移动到 'mybucket' 这个桶的 'prefix/mykey'，就可以先复制一个 'prefix/mykey' 这个对象，然后删除 'mykey' 这个对象。

同样的，如果想把 'mykey' 这个对象移动到 'myanothorbucket' 这个桶里，也可以先复制对象到新桶，然后删除掉原来的对象。

#### 示例代码

[//]: # (.cssg-snippet-move-object)
```java
final String sourceAppid = "1250000000"; //账号 appid
final String sourceBucket = "sourcebucket-1250000000"; //"源对象所在的存储桶
final String sourceRegion = "COS_REGION"; //源对象的存储桶所在的地域
final String sourceKey = "sourceObject"; //源对象键
//构造源对象属性
CopyObjectRequest.CopySourceStruct copySource = new CopyObjectRequest.CopySourceStruct(sourceAppid, sourceBucket,
        sourceRegion, sourceKey);

String bucket = "examplebucket-1250000000"; //目标存储桶，格式：BucketName-APPID
String key = "exampleobject"; //目标对象的对象键

// copy(String bucket, String cosPath, CopyObjectRequest.CopySourceStruct copySourceStruct){
COSXMLCopyTask copyTask = transferManager.copy(bucket, key, copySource);
copyTask.setCosXmlResultListener(new CosXmlResultListener() {
    @Override
    public void onSuccess(CosXmlRequest request, CosXmlResult result) {
        try {
            // 复制成功后删除文件
            DeleteObjectRequest deleteObjectRequest = new DeleteObjectRequest(sourceBucket, sourceKey);
            DeleteObjectResult deleteResult = cosXmlService.deleteObject(deleteObjectRequest);
        } catch (CosXmlClientException e) {
            e.printStackTrace();
        } catch (CosXmlServiceException e) {
            e.printStackTrace();
        }
    }

    @Override
    public void onFail(CosXmlRequest request, CosXmlClientException exception, CosXmlServiceException serviceException) {

    }
});
```

>?更多完整示例，请前往 [GitHub](https://github.com/tencentyun/cos-snippets/tree/master/Android/app/src/androidTest/java/com/tencent/qcloud/cosxml/cssg/MoveObject.java) 查看。

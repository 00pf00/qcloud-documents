## 内容介绍

如果一个音视频房间里只有一路音视频流，这时是不需要混流的。当一个音视频房间中同时有多路音视频流时，就需要**混流转码**，把多条音视频流转成一路，这样即便于录制存储，也便于旁路推流到直播CDN上。

![](https://main.qcloudimg.com/raw/df6d65b2c0bd123c5df8a1e0df07bc39.png)

## 支持的平台

| iOS | Android | Mac OS | Windows | 微信小程序 | Chrome浏览器|
|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|
|     ✔  |    ✔    |    ✔   |    ✔    |    ✖     |   ✖     |


## 如何使用

- **Objective-C**

``` Objective-C
//启动网络测速的示例代码
- (void)enableTranscoding {
    TRTCTranscodingConfig *config = [[TRTCTranscodingConfig alloc] init];
    // 转码为720p的视频
    config.videoWidth = 1080;
    config.videoHeight = 720;
    // 设置为5Mbps的bitrate
    config.videoBitrate = 5000;
    config.audioSampleRate = 48000;
    config.audioBitrate = 64;
    config.audioChannels = 2;
    
    // 设置混流后主播的画面位置
    TRTCMixUser *broadCaster = [[TRTCMixUser alloc] init];
    broadCaster.userId = @"broadcaster"; // 以主播uid为broadcaster为例
    // 铺满屏幕并放到最下面
    broadCaster.zOrder = 0;
    broadCaster.rect = CGRectMake(0, 0, 1080, 720);

    // 设置观众位置, 以一个观众放到左下角为例, 左下角边距10个象素
    TRTCMixUser *audience = [[TRTCMixUser alloc] init];
    audience.userId = @"audience"; // 以观众uid为audience为例
    // 放到左下角，置于主播画面之上
    audience.zOrder = 1;
    audience.rect = CGRectMake(10, 470, 360, 240);
    
    config.mixUsers = @[broadcaster, audience];

    [trtcCloud startCloudMixTranscoding:config];
}
```

- **Java**

``` java
//启动网络测速的示例代码

```

- **C++**

``` C++
//启动网络测速的示例代码

```

## 混流参数
混流转码过程中，会有一个画面合成的过程，画面合成的方案并不是固定的，您可以自行配置，如下所示。
![](https://main.qcloudimg.com/raw/124382a13f796be7214a42eac45ebad0.jpg)






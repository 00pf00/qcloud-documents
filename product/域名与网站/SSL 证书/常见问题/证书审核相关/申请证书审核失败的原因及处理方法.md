申请证书审核失败的原因及处理方法

**介绍**
本文主要介绍申请证书审核失败的可能原因和解决方法。

**详细信息**
申请证书审核失败可能由以下原因导致，请根据可能存在的场景定位对应的解决方法。

> 说明：建议您使用`curl -k -v`命令或者`wget -S`命令验证文件URL是否生效。同时，需要分别对HTTPS和HTTP两种协议的URL进行验证。


- 验证文件配置错误
- DNS配置错误
- 单位电话号码不能为空或不正确
- CSR已用于其他订单
- 证书绑定的域名格式不正确
- 主域名不能为空
- 域名安全审核失败
- 超过验证时效

## 文件内容配置错误
### 问题原因
如果您在提交 SSL 证书审核时使用文件验证方式进行域名授权验证，可能会因为此问题造成订单审核失败。这种情况下的 SSL 证书审核申请失败的可能原因如下所示：

**原因一：** 站点部分页面已启用HTTPS访问方式，而验证文件仅部署在HTTP服务路径下，并没有部署在HTTPS服务路径下，导致用HTTPS协议请求时找不到对应的文件。
**原因二：** 访问验证文件时，站点返回错误代码。
**原因三：** 启用了CDN服务，而CDN服务节点未完成海外同步。


### 解决方法
**原因一解决方法**
将验证文件部署在HTTP及HTTPS服务路径下，确认可以通过HTTPS协议访问到。或者暂时关闭该站点所有页面的HTTPS服务。

**原因二解决方法**
确认通过CA中心指定的验证文件URL能够直接访问到正确的验证文件内容，并确认最终的验证文件不是通过重定向等方式显示在Web浏览器中。

说明：可通过浏览器地址是否发生变化来检测是否存在重定向。

**原因三解决方法**
将验证文件同步到海外CDN服务节点，或者临时关闭CDN海外加速服务。
说明： 如果无法对CDN节点服务器进行变更操作，建议您改用DNS验证方式进行域名授权验证。

## DNS配置错误
### 问题原因
如果您在提交 SSL 证书审核时使用DNS验证方式进行域名授权验证，可能会因为此问题造成订单审核失败。该场景下的 SSL 证书审核申请失败可能存在的部分原因如下所示：

**原因一：** DNS解析记录值配置错误。

**原因二：** 使用部分域名解析服务商的服务时，因域名解析服务商对不存在的主机记录的查询返回值与预期的返回值不同，导致CA中心验证返回值不准确。

**原因三：** DNS解析记录超时，您提交申请信息后。您将有三天时间完成DNS解析记录的添加，否则审核将会失败。

**原因四：** 启用了动态域名解析服务，相应的TXT解析记录值未能及时同步到海外权威DNS服务器。

建议您在不同系统中使用以下方式查询DNS解析记录值，分析您的域名验证字符串输出信息，确认已正确配置了DNS解析记录。

- **Windows系统**
使用nslookup命令查询您的域名解析状态。
- **Linux**
使用dig命令查询您的域名解析状态。

### 解决方法
**原因一解决方法**
配置正确的DNS主机记录及记录值。

**原因二解决方法**
忽略域名解析设置提示的相关错误，按要求配置DNS的解析记录，完成域名验证。

**原因三解决方法**
重新提交申请信息，并在 3 自然日时间内完成DNS解析记录的添加。

> 说明
> 修改已存在的TXT记录值时，解析记录值会根据 TTL 值决定生效时间，而新建TXT记录值则可以很快生效。因此建议您通过新建TXT记录值完成验证。待域名验证通过后，可删除相关的TXT解析记录信息。

**原因四解决方法**
请确认动态解析服务正常，并确保海外的解析服务能够正常解析新增的TXT解析记录。

**单位的电话号码不能为空或不正确**
当您申请OV、EV类型数字证书时，如果您未填写单位电话号码，将收到该审核失败信息。

### 问题原因
OV、EV类型证书产品，单位电话号码为必填字段。当单位电话号码为空、或填写不符合规则时，需要重新填写。

### 解决方法
请填写能够及时联系到您的单位电话号码，以确保在CA中心进行组织信息验证时能够联系到您。

## CSR文件已用于其他订单
### 问题原因
出于证书密钥安全考虑，在请求一个全新的订单时，不允许使用之前已使用过的CSR信息。

### 解决方法
如果之前已使用一个CSR文件成功提交过订单，在后续的新订单中，请重新生成新的CSR文件。确保每张SSL证书都有其唯一的密钥对，有助于提升证书应用中的安全性。

## 证书绑定的域名格式不正确
### 问题原因
合法的域名仅允许包含字母+数字+“-”的任意组合，且域名的最大长度不得超过64个字符。

### 解决方法
请检查CSR请求文件及订单中填写的域名信息，确保您使用了正确的域名提交订单。

## 主域名不能为空
### 问题原因
创建CSR文件时未正确填写`Common Name`字段。

> 说明：Common Name必须是绑定域名中的其中一个域名。

### 解决方法
建议您使用系统提供的 在线生成CSR文件 功能。

## 域名安全审核失败

当您申请 SSL 证书时，您可能收到以下审核返回结果。

![169c8d041c684689c861074f95e9c2d1.png](../../../_resources/1d8913b88be14d15bac345813ded8f15.png)


**问题原因**
由于 CA 机构的反钓鱼机制，一般是域名信息中包含敏感词，例如 bank、pay 等，会引起安全审查失败，具体敏感词由 CA 机构定义，同时部分不常用的根域名也可能会审核失败，例如，www.qq.pw、www.qcloud.pw 等以 .pw 根域名后缀的无法通过审核。

**解决方法**
> 说明
> 域名型 SSL 证书通过自动认证快速签发，不会人工介入审核，会用较为严格的敏感词来加强审核标准。

建议更换域名中的主机名部分，重新尝试提交订单。如果多次更换主机名，仍提示以上错误，则建议选择收费证书产品，或选择更换主域名申请证书。


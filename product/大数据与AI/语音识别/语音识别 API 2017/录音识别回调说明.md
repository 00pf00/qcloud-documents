## 1. 回调说明

录音识别请求中，如果用户设置了CallbackUrl参数，则通过回调的方式来返回识别结果，用户需要自行搭建可公网访问的HTTP或者HTTPS服务，并在创建录音识别任务时，将回调Url填写到CallbackUrl中。
回调时，所有内容会放入Body中。

## 2. 回调Body说明

**回调Body示例**
``` 
{ "code":0, "message":"success", "requestId":500, "appid": 12000001, "projectid": 0, "audioUrl":"http://test.qq.com/voice_url", "text":"您好", "audioTime":2.5 }
```

**参数说明**

>! 注意：用户需要将回调body中的数据，进行 urldecode ，否则无法获取正确结果。

| 字段 | 类型 | 描述 |  
| --- | --- | --- |
| code |  int64 | 服务器错误码，0 为成功，其他：失败 |
| message |  String | 成功或者失败原因文字描述 |
| requestId |  uint64 | 任务唯一标识，与录音识别请求中返回的TaskId一致 |
| appid |  uint64 | 腾讯云应用 ID |
| projectid |  int64 | 腾讯云项目 ID |
| audioUrl |  string | 语音下载 ur。如果语音源非公网可下载 URL，则不包含该字段 |
| text |  string | 识别出的结果文本 |
| audioTime |  double | 语音总时长 |

## 3. 回调Response说明

用户侧收到回调请求后，需要以JSON 格式返回响应。

**回调Response示例**

```
{ "code" : 0, "message" : "success" }
```

**参数说明**

| 参数名称 | 类型 | 描述 |  
| --- | --- | --- |
| code |  int64 | 错误码，0 为成功，其他值代表失败 |
| message |  string | 失败原因说明 |

### 4. 回调错误码

| 数值 |  说明 |  
| --- | --- |
| 10000 | 转码失败，请确认音频格式是否符合标准 |
| 10001 | 识别失败 |
| 10002 | 语音时长太短 |
| 10003 | 语音时长太长 |
| 10004 | 无效的语音文件 |
| 10005 | 其他失败 |
| 10006 | 音轨个数不匹配 |
| 10007 | 音频下载失败 |

## 5. 常见问题

- 回调最多尝试几次？
  - 最多2次
  
- 过了很久都没有收到回调怎么办？
  - 请确认回调服务正常，且回调地址是否在公网下可访问
  - 如果回调地址是https的，请确认证书经过合法CA机构认证


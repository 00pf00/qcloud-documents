## 专用主节点
Elasticsearch 集群一般由若干个节点共同组成，节点之间互通，并且能够将客户端请求转向到合适的节点，每个节点都可能负责多个角色，其中有两个是数据节点和主节点。

**数据节点**
数据节点（Data Node）的作用是保存索引分片，处理与数据相关的操作，例如 CRUD、搜索、聚合等各种 I/O、内存和 CPU 密集型操作。集群使用过程中，需注意监控数据节点的资源使用率，并在它们过载时添加更多的数据节点，以保障集群的稳定。

**主节点**
主节点（Master Node）负责轻量化整个集群范围内的操作，例如创建或删除索引、跟踪哪些节点是集群的一部分以及决定将哪些分片分配给哪些节点。对于集群健康来说，拥有一个稳定的主节点非常重要。

备选主节点（Master-eligible node） 指有资格被选为主节点的节点，任何符合主节点条件的节点（默认情况下为所有节点）都可以通过主选择过程被选为主节点。

数据节点处理索引和搜索数据的请求都是 I/O、内存和 CPU 密集型工作，可能会对节点的资源造成压力。默认情况下，所有节点都是数据节点，也都是备选主节点，这对于小型集群来说非常方便。随着集群的增长，为确保主节点稳定且不受压力，保障集群的稳定，需将专用主节点（Dedicated Master） 和数据节点分离。

**专用主节点配置建议**
设置专用主节点主要是为保障集群增大时的稳定性，建议专用主节点个数至少为3：
- 专用主节点个数为1：只有1个备选主节点，discovery.zen.minimum_master_nodes 设置为1，网络发生故障时缺少备份。
- 专用主节点个数为2：有2个备选主节点，minimum_master_nodes 设置为1，有备份节点，但网络发生故障，在重新选主时，有发生脑裂的风险（每个备选主节点都将自己设置为主节点）；minimum_master_nodes 设置为2，发生故障时，可选主节点个数达不到要求，不能选出主节点。
- 专用主节点个数为3：有3个备选主节点，discovery.zen.minimum_master_nodes设置为2，网络发生故障时，丢失一个可选主节点，在重新选主时，能有效选出主节点。

其他详细说明，可参考 [ES 节点说明](https://www.elastic.co/guide/en/elasticsearch/reference/5.6/modules-node.html#master-node)。

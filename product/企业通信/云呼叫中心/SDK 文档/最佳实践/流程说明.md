## 总体流程说明
![](https://main.qcloudimg.com/raw/f9e6653d13a469bc168d32145a7cc653.png)
1. 开发者页面登录鉴权请求，一般是密码登录。
2. 开发者后台对鉴权信息进行校验，通过则进行下一步，否则返回错误。
3. 开发者后台向 TCCC 后台请求，获取 SDK 登录 Token。
4. TCCC 后台返回 SDK 登录 Token。
5. 开发者后台向开发者页面 返回 SDK 登录 Token 和 URL。
6. 开发者页面使用第5步返回的 Token 和 URL 初始化 SDK。
7. 页面会使用 URL 加载 SDK。
8. 页面初始化 SDK 完毕之后，SDK 内部会请求 TCCC 后台对初始化传入的 Token 进行校验。
9. TCCC 后台校验 Token，如果通过会返回 SDK 的登录票据，否则返回错误。
10. TCCC 后台返回 SDK 登录票据。

## 操作步骤
### 步骤1：获取密钥
获取腾讯云主账号访问密钥或者腾讯云子账号访问密钥文档请参见 [主账号访问密钥管理](https://cloud.tencent.com/document/product/598/40488)。
>?生产环境中密钥请妥善保存，避免暴露。
### 步骤2：同步客服账号
同步客服账号有两种方式：
1. 使用 TCCC 管理端 [手动添加客服账号](https://cloud.tencent.com/document/product/679/48056)。
2. 使用 [腾讯云 API](https://cloud.tencent.com/document/api/679/49677#4.-.E7.A4.BA.E4.BE.8B) 或者 [腾讯云API SDK ](https://cloud.tencent.com/document/api/679/49677#SDK)从**后台**添加客服账号，在该情况下，建议使用腾讯云 API SDK 。
>?开发者可以根据自己实际情况采用上述任一方式向腾讯云呼叫中心同步客服账号。

### 步骤3：获取 SDK 登录 Token
开发者后台在用户鉴权通过之后，使用 [腾讯云 API3.0 SDK](https://cloud.tencent.com/document/api/679/49227) 拉取 SDK 登录 Token，返回给开发者页面用以初始化腾讯云呼叫中心 SDK。
### 步骤4：初始化 SDK
开发者页面使用上一步中获取的 Token 和 URL 初始化 SDK，[示例代码](https://cloud.tencent.com/document/product/679/49749#Examples) 在 SDK 快速入门的 [初始化 SDK](https://cloud.tencent.com/document/product/679/61237#initiative) 章节已给出。
后续的 SDK 中的接口调用请参见 [SDK API ](#sdkAPI)即可。

## 集成开发能力
在 SDK 初始化后, 会在 Window 上注册一个名为 TCCC 的 instance。 用于外部系统集成呼叫中心的功能。TCCC 上提供了操作腾讯云呼叫中心的 API, 以及监听坐席端事件的监听注册功能。
[](id:initiative)
## SDK 初始化参数
当 SDK 的脚本被引入浏览器的运行环境时, SDK 就会初始化, 登录，并最近呈现坐席工作台。在初始化 SDK 时，可以通过对即将插入的`<script>`标签的 dataset 进行定制以注入一些初始化参数。
示例
```
function injectTCCC({token, sdkAppId, userId, sdkUrl}) {
    const scriptDom = document.createElement('script')
    scriptDom.dataset.token =token
    scriptDom.dataset.sdkAppId =sdkAppId
    scriptDom.dataset.userid = userId
    //定制是否需要在登录后展示 坐席工作台。默认为true,这里可以通过设为false关闭
    scriptDom.dataset.showWorkBenchAtFirstLogin=false
    scriptDom.src = sdkUrl
    document.body.appendChild(scriptDom)
}
```

#### 参数列表:
| 参数                        | 值      | 备注                                                    |
| ------------------------- | ------ | ----------------------------------------------------- |
| token                     | string | 从云API获得的登录 Token                                       |
| sdkAppId                  | string | 云呼叫中心实例的 sdkAppId                                      |
| userid                    | string | 当前坐席在呼叫中心中注册时是用的邮箱地址                                  |
| showWorkBenchAtFirstLogin | bool   | 是否需要在登录是否马上打开作息工作台。为 true 时，SDK 会在初始化完成后打开坐席工作台。默认为 true。 |
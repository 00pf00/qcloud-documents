## 步骤1：获取 accessToken
### 认证模式
SCIM API 目前采用 OAuth2.0 进行授权认证，采用 client_credentials 模式。

### 请求路径
```
https://<auth_domain>/scim/api/token?client_id={client_id}&client_secret={client_secret}
```

### HTTP 请求方式
```
GET
```
 
### 请求参数

| 参数          | 参数位置 | 类型   | 是否必选 | 描述                                                         | 示例值               |
| ------------- | -------- | ------ | -------- | ------------------------------------------------------------ | -------------------- |
| client_id     | Query    | String | 是       | 客户端 id，在 [数据同步页面](https://console.cloud.tencent.com/ciam/data-sync) 单击**同步名称/ID**或**配置** 查看详情中的 Client ID。 | ir9wsdjwklgxw2ftawjb |
| client_secret | Query    | String | 是       | 客户端Secret，在 [数据同步页面](https://console.cloud.tencent.com/ciam/data-sync) 单击**同步名称/ID**或**配置**查看详情中的 Client Secret。 | dk464qqp5cmo         |


### 返回参数

| 参数         | 参数位置 | 类型   | 是否必选 | 描述                                                         | 示例值                           |
| ------------ | -------- | ------ | -------- | ------------------------------------------------------------ | -------------------------------- |
| access_token | Body     | String | 是       | access_token。                                               |  |
| expires_in   | Body     | Long   | 是       | access_token有效时间，与创建应用时设置的“access_token有效期”一致。 | 7200                             |
| token_type   | Body     | String | 是       | access_token的类型。                                         | Bearer                           |
| scope        | Body     | String | 是       | 有效范围                                                     | scim                             |

### 接口示例
#### 输入示例
```
https://<auth_domain>/scim/api/token?client_id=SNzNmBYGT3JKY5AR7LUGw&client_secret=E8eZdbqrQO6iLpIH7QvgcQ"
```
#### 返回示例
```
{
    "access_token": "OAUTH2c615b14e-26e9-497a-b5e8-7dd2d649d870",
    "token_type": "Bearer",
    "expires_in": 7200,
    "scope": "/scim/"
}
```

## 步骤2：调用 scim 接口
调用 scim 接口时，在请求头当中携带 accessToken 参数，后端接口会校验 accessToken 是否合法，不合法时抛出"Invalid access token"。详情见 用户组 API 和 用户 API，例如：
```
curl -v -k --header "Authorization:Bearer {access_token}" --header "Content-Type:application/json" https://<host>:<ip>/scim/api/v2/Users/758f9a69-0a48-43ab-9d76-6cce766c5aaa"
```
>!
>- accessToken 应该加在 HTTP 请求的 Header 中，Header 的 key 为 Authorization。
>- accessToken 的组成包含 token_type 和 access_token。



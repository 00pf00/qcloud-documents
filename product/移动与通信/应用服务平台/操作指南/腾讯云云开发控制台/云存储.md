云存储包括**文件管理**、**权限设置**和**缓存配置**三部分内容，您可以将文件上传到云存储空间，通过控制台或使用SDK调用存储功能。详情请参考[云存储管理](https://cloud.tencent.com/document/product/876/19376)。


## 文件管理

- 点击【新建文件夹】或【上传文件夹】在云存储内创建文件夹，点击文件夹名可进入文件夹内部进行文件管理。
- 点击【上传文件】进行文件上传。
- 【删除】：勾选需要删除的文件，点击列表上方【删除】按钮，进行文件批量删除；点击文件操作列的【删除】，删除当前文件。
- 点击【下载】可下载当前文件。
  ![](https://main.qcloudimg.com/raw/bcd0a3dc4110c0eaa818bc9f0f1ed712.png)

- 点击【详情】进行文件预览，并查看文件信息和存储位置。
  ![](https://main.qcloudimg.com/raw/6e58428938cc86acf4b6d0c1598615c7.png)


## 权限设置

- 权限设置可设定存储桶的文件读写权限，您可根据场景进行权限设定。
  ![](https://main.qcloudimg.com/raw/8c25d5a030333d6b6884201e3c7063ce.png)
  
- 您也可以选择自定义安全规则，进行高级权限设置，如需了解更多安全规则内容，详情请参考[安全规则](https://cloud.tencent.com/document/product/876/36414)。
  ![](https://main.qcloudimg.com/raw/684c40f53bb603de3d124a04e2d77f83.png)




## 缓存设置

- 点击【编辑缓存配置】，进行缓存时间配置。
  ![](https://main.qcloudimg.com/raw/77da183f68ce94e0178f67943b29f6cc.png)

- 针对不同的文件类型，可以设置不同的缓存时间。列表顶部策略的优先级将大于底部策略，通过编辑配置可以调整优先级。
  ![](https://main.qcloudimg.com/raw/fe1de467d11f1e6c6bb2de66c6e24e20.png)




### 为什么要设置缓存

- 云存储内的文件默认 CDN 加速，开发者可以通过改变缓存配置来控制 CDN 遵循的过期规则。
- 合理地配置缓存时间，能够有效的提升命中率，降低回源率，节省您的带宽。
- CDN 节点上缓存的用户资源都面临“过期”问题。
    - 若资源处于未过期状态，用户请求到达节点后，节点会将此资源直接返回给用户，提升获取速度。
    - 若资源处于过期状态（即超过了设置的有效时间），用户请求会由节点发送至源站，重新获取内容并缓存至节点，同时返回给用户。

### 设置方式

- 按**文件类型**设置缓存过期时间。
  - 配置缓存时间时可填入多项，每项用;隔开，内容区分大小写。
  - 输入框默认提示：请按以下格式输入：.jpg;.png;.css。
- 按**文件夹**设置缓存过期时间。
  - 配置缓存时间时可填入多项，每项用;隔开，内容区分大小写，必须是以/开头的文件夹。
  - 输入框默认提示：请按以下格式输入：/test;/a/b/c （不能以“/”结尾）。
- 按**文件**类型设置缓存过期时间。
  - 配置缓存时间时可填入多项，每项用;隔开，内容区分大小写，必须是以.开头的文件后缀，例如 .png。
  - 输入框默认提示：请按以下格式输入：/index.html;/test/*.jpg;。


> ! 
> - 刷新时间设置为0时，不缓存，所有请求转发至用户源站；缓存时间设置最大值不能超过365天。
> - 配置部署中，若您再次编辑缓存配置，会覆盖之前的配置。以最后一次部署结果为准。

### 策略优先级
配置项列表**顶部**优先级高于**底部**优先级。您可以拖动列表中的调整优先级的移动图标即可调整优先级。
当设置了多条缓存策略时，相互之间会有重复。
假如某域名已配置如下缓存配置：

|目标  |缓存时长|
|-------|----------|
|所有文件|2分钟|
|.php .jsp .aspx| 0秒|
| .jpg .png .gif |300秒|
| /test/*.jpg |400秒|
| /test/abc.jpg |200秒	|

假设域名为`www.test.com`，资源为`www.test.com/test/abc.jpg`，其匹配方式如下：

- 匹配第五条，命中，此时缓存时间为200秒。
- 匹配第四条，命中，此时缓存时间为400秒。
- 匹配第三条，命中，此时缓存时间为300秒。
- 匹配第二条，未命中。
- 匹配第一条所有文件，命中，此时缓存时间为2分钟。        


 因此最终缓存时间为2分钟，以最后一次匹配生效。
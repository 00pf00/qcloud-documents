## 最新版本 4.6.102 @2020.02.28

### SDK

**通用变更点**

- 修复某些场景下拉取消息慢的问题
- 修复3.x版本音频消息向新版本发送的兼容性问题
- 修复获取会话列表有的 conversation 的 identifier 可能为空的问题
- 修复已知崩溃问题
- 修复 socks5 代理用户密码验证问题
- 优化群未决的处理逻辑
- 提高文件上传上限为100M
- 优化 COS 上传
- 修复没有好友时，获取好友列表返回异常问题


## 4.6.56 @2020.01.08

### SDK

**通用变更点**

- 优化频繁拉取用户资料的内存增长问题
- 优化用户资料特殊字符兼容性问题
- 修复已知崩溃问题
- 修复频繁切换不同帐号登录偶现失败问题
- 修复压力测试下的重连问题


## 4.6.51 @2019.12.23

### SDK

**通用变更点**

- 优化网络的连接质量，更快感知网络质量变化
- 优化 AVChatRoom 消息的处理

**iOS & Mac 平台**

- IMSDK 监听都修改为弱引用，不再强持有外部对象
- 消息新增 getSenderNickname 同步返回昵称的接口

**Android 平台**

- 修复离线被踢问题
- 修复上传进度回调在较低版本手机的异常问题
- 修复登录时的内存泄漏
- 消息新增 getSenderNickname 同步返回昵称的接口

**Windows 平台**

- 修复添加好友后发送消息失败问题
- 完善群信息、群成员信息的自定义字段的修改和查询
- 完善所有接口的回调，确保回调一定被调用；确保只有当回调成功时，才将对象转成 JSON 字符串，回调失败时，返回空字符串。

### TUIKit & Demo

**Android 平台**

- 会话列表头像支持圆角设置
- 修复置顶会话切换帐号时异常的问题


## 4.6.1 @2019.11.13

### SDK

**通用变更点**

- 撤回消息支持漫游
- 修复 REST API 静默邀请进群引发未读数错误
- 修复弱网下偶现发消息异常
- 修复获取群成员时，角色过滤条件错误逻辑
- 修复通过 REST API 创建的群组，第一次进群发消息，获取群 name 失败的问题
- 修复关闭缓存后 getUsersProfile 获取用户信息失败的问题
- 修复语音消息文件在没有后缀的情况下，接收后无法下载问题

**iOS & Mac 平台**

- 增加 OPPOChannelID 的设置，解决 Android 8.0 系统以上的 OPPO 手机接收 iOS 消息推送失败的问题
- 优化 getGrouplist 返回对象的注释

**Android 平台**

- 8.0 系统以上的 OPPO 手机离线推送的 channleID 支持在控制台设置
- 废弃 TIMCustomElem 的 ext、sound、desc 字段

**Windows 平台**

- 修复群系统消息的类型字段异常
- 修复返回的群组信息中群组类型与头文件不一致问题
- 修复创建群组时指定群组自定义字段失败问题
- 消息新增发送者资料以及离线推送配置

### TUIKit & Demo

**iOS**

- 增加视频通话功能
- 增加群组头像九宫格合成展示
- 优化会话列表、通讯录以及聊天界面 UI

**Android**

- 增加方法来设置对方已读回执是否展示
- 增加群组头像九宫格合成展示
- 优化会话列表、通讯录以及聊天界面 UI
- 解决部分手机输入法、界面、文件选择等兼容性问题
- 解决自定义消息会显示错乱的问题
- 解决压力测试下通讯录加载缓慢的问题
- 解决与其他库资源冲突的问题
- 解决 cache 目录设置不生效的问题

## 4.5.111 @2019.10.16

### SDK

**通用变更点**

- 修复获取群指定类型的成员列表接口的分页问题
- 发送文件类型消息时生成的 URL 增加格式后缀
- 群自定义字段修改后增加通知回调
- 未登录调用 initStorage 方法后，可以获取本地用户和群组信息
- 修复内存泄露问题
- 修复发送消息后撤回，消息状态码不正确问题
- 修复 getMessage 回调错误码不对问题
- 修复强杀 App 重启后单聊未读数错误问题

**iOS & Mac 平台**

  修复 Mac 休眠偶现一直登录失败问题

**Android 平台**

- 修复某些场景下的稳定性问题
- 修复离线推送在 Android 8.0 系统以上的 OPPO 手机无法接收离线推送问题
- 优化 getElementCount 接口的返回类型

**Windows 平台**

- 跨平台库优化各个平台的网络重连速度
- 修复 Windows 公开群设置管理失败问题
- 跨平台库新增 JVM 配置，方便 Android 环境传入 jvm

### TUIKit & Demo

**iOS**

- 支持与 Web 端互发语音消息
- 修复 swift 加载 TUIKit 资源文件找不到的问题
- 修复好友备注修改后，聊天界面看不到备注名的问题
- 修复会话置顶后会话列表不能及时刷新的问题

**Android**

- 支持与 Web 端互发语音消息
- 支持设置输入框样式
- 支持语音消息未读红点
- 修复 x86 设备视频消息不能播放的问题
- 修复 FileProvider 与集成端冲突的问题
- 修复部分机型上语音权限识别不到的问题
- 修复特定条件下头像不能正常加载的问题
- 修复偶尔气泡显示不全的问题

## 4.5.55 @2019.10.10

### SDK

**通用变更点**

- 修复多次切换不同网络时的崩溃问题
- 优化网络连接质量
- 优化部分 API 接口的注释

**Android 平台**

优化 Android 9.0 及以上版本对 HTTP 请求的限制

**iOS & Mac 平台**

优化 pod 集成


## 4.5.45 @2019.09.18

### SDK

**通用变更点**

- 优化网络连接的质量
- 修复删除群会话后，再收到新消息，修复未读数异常的问题
- 修复删除会话后，还能在会话更新回调里面获取到已删除会话的问题 
- 优化群/群成员自定义段拉取逻辑

**Android 平台**

废弃 TIMManager 中的 setOfflinePushListener 接口以及 TIMOfflinePushNotification 类

### TUIKit & Demo

**iOS**

- 修复 NSSting + Common.h 类冲突的问题
- 修复群 tips 消息展示不全的问题

**Android**

- 增加已读回执
- 兼容老版本正在输入显示
- 修复重发消息不能立即显示在聊天窗口最下方的问题
- 修复群聊时特定条件下不能显示头像的问题
- 修复不能显示多 elements 群消息的问题
- 修复特定消息导致的崩溃
- 修复群管理员权限错误的问题
- 修复 Web 端发送文件不能正常接收的问题

## 4.5.15 @2019.08.30

### SDK

**通用变更点**

- 优化海外用户发送文件消息的速度
- 修复消息撤回后通过 getLastMessage 获取该消息状态不对的问题；修复撤回监听多次回调的问题
- 后台修复群成员被禁言后，退群再进群获取禁言时间异常问题
- 修复 msg 时间主动修改后，savemsg 的时候时间不生效的问题
- 修复偶现登录无回调的问题
- 修复被撤回群消息的 rand 和 timestamp 为空的问题
- 修复登出状态下回调 UserSig 过期的问题；修复登出状态下仍然断网重连的问题

**Android 平台**

- 后台支持 Android 端的 FCM 推送
- 修复获取指定的好友分组，传入 null 时报错问题
- 修复特定场景下 checkEquals 接口崩溃问题

**Windows平台**

- MessageLocator 新增 unique_id 字段
- Windows 版本支持64位
- 跨平台库新增用户资料接口以及关系链接口

### TUIKit & Demo

**iOS**

- 新增自定义消息发送
- 新增 C2C 已读回执
- 新增语音未播放红点显示

**Android**

- 修改部分场景下 Demo 内存泄漏的问题
- 修改某些场景下的崩溃问题
- 修改定制消息颜色不对的问题
- 修改气泡显示不全或不对的问题
- 修改会话列表不能展示头像的问题
- 修改 ConversationLayout 不能修改标题栏颜色的问题
- 支持64位 ijkplayer
- 支持多元素消息

## 4.4.900 @2019.08.07

### SDK
**通用变更点**

 - 修复某些场景下的稳定性问题
 - 优化未读消息计数
 - 优化登录后加载最近会话列表速度
 - 增加日志清理的功能
